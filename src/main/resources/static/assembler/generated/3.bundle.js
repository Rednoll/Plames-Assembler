(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{107:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t),n.d(t,"context_menu_part",(function(){return s})),n.d(t,"context_menu_area",(function(){return o})),n.d(t,"LabelsArea",(function(){return u})),n.d(t,"PartLabel",(function(){return c})),n.d(t,"Part",(function(){return l}));var s=null,o=null,u=function(){function e(t,n){a(this,e),this.jquery=t,this.partLabels=new Array,this.parts=new Array,this.selectable=n,$.ajax({url:"../resources/assembler/wizard/htmls/plames_parts_area.html",type:"GET",dataType:"HTML",async:!1}).done((function(e){t[0].innerHTML=e}))}return i(e,[{key:"loadFromJson",value:function(e){for(var t in this.parts=new Array,e){var n=e[t],a=l.createFromJson(n);this.createLabel(a)}1==this.partLabels.length&&this.selectPart(this.partLabels[0])}},{key:"selectPart",value:function(e){this.selectable&&(e instanceof c||(e=this.getLabel(e)),this.jquery.find(".selected").removeClass("selected"),e.jquery.addClass("selected"),this.selectedPart=e.part)}},{key:"createLabel",value:function(e){e instanceof l||(e=l.createFromJson(e)),this.hideEmpty();var t=this.jquery.find(".prototype").first().clone();t.removeClass("prototype");var n=new c(this,e,t);return t.appendTo(this.jquery),this.parts.push(e),this.partLabels.push(n),n}},{key:"getLabel",value:function(e){var t;return this.partLabels.forEach((function(n){n.part==e&&(t=n)})),t}},{key:"removeLabel",value:function(e){e instanceof c||(e=this.getLabel(e)),this.parts.splice(this.parts.indexOf(e.part),1),this.partLabels.splice(this.partLabels.indexOf(e),1),e.dispose(),0==this.partLabels.length&&this.showEmpty()}},{key:"setTextOnEmpty",value:function(e){this.jquery.find(".empty-container").find(".empty-text").html(e)}},{key:"hideEmpty",value:function(){this.jquery.find(".empty-container").css({display:"none"})}},{key:"showEmpty",value:function(){this.jquery.find(".empty-container").css({display:"inline-block"})}}]),e}(),c=function(){function e(t,n,r){a(this,e),this.area=t,this.part=n,this.jquery=r,r.find(".name").html(n.name),r.find(".icon").attr("src",n.icon),r.click((function(e){t.selectPart(n)})),r.contextmenu((function(e){e.preventDefault(),s=n,o=t,$(".part-context-menu").finish().toggle(100).css({top:e.pageY+"px",left:e.pageX+"px"})}))}return i(e,[{key:"dispose",value:function(){this.jquery.remove()}}]),e}(),l=function(){function e(t,n,r){a(this,e),this.id=t,this.name=n,this.icon=r}return i(e,null,[{key:"createFromJson",value:function(t){return new e(t.id,t.name,t.icon)}}]),e}()}}]);